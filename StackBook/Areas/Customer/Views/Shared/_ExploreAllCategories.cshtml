@model List<StackBook.Models.Category>

<link rel="stylesheet" href="~/css/category.css" asp-append-version="true" />

<div class="container">

    @await Component.InvokeAsync("SliderCategory")

    @* ===============  CONTENT ============== *@
    <div class="content">
        @{
            var index = 1;
        }

        @foreach (var category in Model)
        {
            @* =============== Literature & Fiction =============== *@
            <section class="category-section mb-5">
                <div class="d-flex justify-content-between align-items-center mt-5 pb-2">
                    <h2>@category.CategoryName</h2>
                    <a asp-area="Customer" asp-controller="Category" asp-action="Index"
                        asp-route-CategoryId="@category.CategoryId" class="view-all text-decoration-none text-muted">View all ></a>
                </div>
                <div class="container-books category@( "" + index )">
                    <div class="d-flex flex-wrap">

                        @foreach (var book in category.Books.Take(8))
                        {
                            <a asp-controller="Category" asp-action="BookDetail" asp-route-bookId="@book.BookId"
                                class="text-decoration-none text-black col-3 block p-4">
                                <div class="h-100 w-100 border border-1 rounded-3 border-solid hover-book"
                                    style="padding: 1.5rem 3rem;">
                                    <div class="position-relative" style="padding-top: 150%;">
                                        <img class="object-fit-cover w-100 h-100 position-absolute top-0 left-0"
                                            src="@book.ImageURL" alt="@book.BookTitle">
                                    </div>
                                    <div class="text-center mt-4">
                                        <div class="fw-bold title">@book.BookTitle</div>
                                        <div class="author text-muted">
                                            @foreach (var author in book.Authors.Take(1))
                                            {
                                                <div>@author.AuthorName</div>
                                            }
                                        </div>
                                        <div class="text-body fw-bold">$@book.Price</div>
                                        <div class="book-rating">
                                            @if (book.Reviews != null && book.Reviews.Any()) {
                                                @("review here")
                                            } else {
                                                @("⭐⭐⭐⭐⭐")
                                            }
                                        </div>
                                    </div>
                                </div>
                            </a>
                        }
                    </div>
                </div>
            </section>
            index++;
        }


    </div>
</div>

<style>
    .hover-book {
        transition: all 0.3s ease-in-out;
        border-color: #adb5bd1a !important;
    }
    .hover-book:hover {
        border-color: #dbdedfb8 !important;
        box-shadow: rgba(0, 0, 0, 0.19) 0px 10px 20px, rgba(0, 0, 0, 0.23) 0px 6px 6px;
        transition: all 0.3s ease-in-out;
    }
</style>